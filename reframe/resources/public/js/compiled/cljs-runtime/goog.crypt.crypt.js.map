{
"version":3,
"file":"goog.crypt.crypt.js",
"lineCount":135,
"mappings":"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",
"sources":["goog/crypt/crypt.js"],
"sourcesContent":["// Copyright 2008 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Namespace with crypto related helper functions.\n */\n\ngoog.provide('goog.crypt');\n\ngoog.require('goog.array');\ngoog.require('goog.asserts');\n\n\n/**\n * Turns a string into an array of bytes; a \"byte\" being a JS number in the\n * range 0-255. Multi-byte characters are written as little-endian.\n * @param {string} str String value to arrify.\n * @return {!Array<number>} Array of numbers corresponding to the\n *     UCS character codes of each character in str.\n */\ngoog.crypt.stringToByteArray = function(str) {\n  var output = [], p = 0;\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n    // NOTE: c <= 0xffff since JavaScript strings are UTF-16.\n    if (c > 0xff) {\n      output[p++] = c & 0xff;\n      c >>= 8;\n    }\n    output[p++] = c;\n  }\n  return output;\n};\n\n\n/**\n * Turns an array of numbers into the string given by the concatenation of the\n * characters to which the numbers correspond.\n * @param {!Uint8Array|!Array<number>} bytes Array of numbers representing\n *     characters.\n * @return {string} Stringification of the array.\n */\ngoog.crypt.byteArrayToString = function(bytes) {\n  var CHUNK_SIZE = 8192;\n\n  // Special-case the simple case for speed's sake.\n  if (bytes.length <= CHUNK_SIZE) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n\n  // The remaining logic splits conversion by chunks since\n  // Function#apply() has a maximum parameter count.\n  // See discussion: http://goo.gl/LrWmZ9\n\n  var str = '';\n  for (var i = 0; i < bytes.length; i += CHUNK_SIZE) {\n    var chunk = goog.array.slice(bytes, i, i + CHUNK_SIZE);\n    str += String.fromCharCode.apply(null, chunk);\n  }\n  return str;\n};\n\n\n/**\n * Turns an array of numbers into the hex string given by the concatenation of\n * the hex values to which the numbers correspond.\n * @param {Uint8Array|Array<number>} array Array of numbers representing\n *     characters.\n * @param {string=} opt_separator Optional separator between values\n * @return {string} Hex string.\n */\ngoog.crypt.byteArrayToHex = function(array, opt_separator) {\n  return goog.array\n      .map(\n          array,\n          function(numByte) {\n            var hexByte = numByte.toString(16);\n            return hexByte.length > 1 ? hexByte : '0' + hexByte;\n          })\n      .join(opt_separator || '');\n};\n\n\n/**\n * Converts a hex string into an integer array.\n * @param {string} hexString Hex string of 16-bit integers (two characters\n *     per integer).\n * @return {!Array<number>} Array of {0,255} integers for the given string.\n */\ngoog.crypt.hexToByteArray = function(hexString) {\n  goog.asserts.assert(\n      hexString.length % 2 == 0, 'Key string length must be multiple of 2');\n  var arr = [];\n  for (var i = 0; i < hexString.length; i += 2) {\n    arr.push(parseInt(hexString.substring(i, i + 2), 16));\n  }\n  return arr;\n};\n\n\n/**\n * Converts a JS string to a UTF-8 \"byte\" array.\n * @param {string} str 16-bit unicode string.\n * @return {!Array<number>} UTF-8 byte array.\n */\ngoog.crypt.stringToUtf8ByteArray = function(str) {\n  // TODO(user): Use native implementations if/when available\n  var out = [], p = 0;\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (\n        ((c & 0xFC00) == 0xD800) && (i + 1) < str.length &&\n        ((str.charCodeAt(i + 1) & 0xFC00) == 0xDC00)) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n\n/**\n * Converts a UTF-8 byte array to JavaScript's 16-bit Unicode.\n * @param {Uint8Array|Array<number>} bytes UTF-8 byte array.\n * @return {string} 16-bit Unicode string.\n */\ngoog.crypt.utf8ByteArrayToString = function(bytes) {\n  // TODO(user): Use native implementations if/when available\n  var out = [], pos = 0, c = 0;\n  while (pos < bytes.length) {\n    var c1 = bytes[pos++];\n    if (c1 < 128) {\n      out[c++] = String.fromCharCode(c1);\n    } else if (c1 > 191 && c1 < 224) {\n      var c2 = bytes[pos++];\n      out[c++] = String.fromCharCode((c1 & 31) << 6 | c2 & 63);\n    } else if (c1 > 239 && c1 < 365) {\n      // Surrogate Pair\n      var c2 = bytes[pos++];\n      var c3 = bytes[pos++];\n      var c4 = bytes[pos++];\n      var u = ((c1 & 7) << 18 | (c2 & 63) << 12 | (c3 & 63) << 6 | c4 & 63) -\n          0x10000;\n      out[c++] = String.fromCharCode(0xD800 + (u >> 10));\n      out[c++] = String.fromCharCode(0xDC00 + (u & 1023));\n    } else {\n      var c2 = bytes[pos++];\n      var c3 = bytes[pos++];\n      out[c++] =\n          String.fromCharCode((c1 & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n    }\n  }\n  return out.join('');\n};\n\n\n/**\n * XOR two byte arrays.\n * @param {!Uint8Array|!Int8Array|!Array<number>} bytes1 Byte array 1.\n * @param {!Uint8Array|!Int8Array|!Array<number>} bytes2 Byte array 2.\n * @return {!Array<number>} Resulting XOR of the two byte arrays.\n */\ngoog.crypt.xorByteArray = function(bytes1, bytes2) {\n  goog.asserts.assert(\n      bytes1.length == bytes2.length, 'XOR array lengths must match');\n\n  var result = [];\n  for (var i = 0; i < bytes1.length; i++) {\n    result.push(bytes1[i] ^ bytes2[i]);\n  }\n  return result;\n};\n"],
"names":["goog","provide","require","crypt","stringToByteArray","goog.crypt.stringToByteArray","str","output","p","i","length","c","charCodeAt","byteArrayToString","goog.crypt.byteArrayToString","bytes","CHUNK_SIZE","String","fromCharCode","apply","chunk","array","slice","byteArrayToHex","goog.crypt.byteArrayToHex","opt_separator","map","numByte","hexByte","toString","join","hexToByteArray","goog.crypt.hexToByteArray","hexString","asserts","assert","arr","push","parseInt","substring","stringToUtf8ByteArray","goog.crypt.stringToUtf8ByteArray","out","utf8ByteArrayToString","goog.crypt.utf8ByteArrayToString","pos","c1","c2","c3","c4","u","xorByteArray","goog.crypt.xorByteArray","bytes1","bytes2","result"]
}
